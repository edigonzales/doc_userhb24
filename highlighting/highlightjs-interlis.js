module.exports = function (hljs) {
  const KEYWORDS = [
    'NOINCREMENTALTRANSFER',
    'COUNTERCLOCKWISE',
    'ANYSTRUCTURE',
    'AGGREGATION',
    'ASSOCIATION',
    'CARDINALITY',
    'CONSTRAINTS',
    'DERIVATIVES',
    'ENUMTREEVAL',
    'INHERITANCE',
    'RESTRICTION',
    'SUBDIVISION',
    'TRANSLATION',
    'UNQUALIFIED',
    'AGGREGATES',
    'ATTRIBUTES',
    'CONSTRAINT',
    'CONTINUOUS',
    'CONTRACTED',
    'HALIGNMENT',
    'INSPECTION',
    'METAOBJECT',
    'PROJECTION',
    'VALIGNMENT',
    'VERTEXINFO',
    'ACCORDING',
    'ATTRIBUTE',
    'CLOCKWISE',
    'EXISTENCE',
    'MANDATORY',
    'PARAMETER',
    'PERIPHERY',
    'REFERENCE',
    'REFSYSTEM',
    'STRUCTURE',
    'SYMBOLOGY',
    'TRANSIENT',
    'UNDEFINED',
    'ABSTRACT',
    'ANYCLASS',
    'CIRCULAR',
    'CONTINUE',
    'DEFERRED',
    'EXTENDED',
    'EXTERNAL',
    'FUNCTION',
    'GENERICS',
    'INTERLIS',
    'LINEATTR',
    'LINESIZE',
    'OPTIONAL',
    'OVERLAPS',
    'REQUIRED',
    'ROTATION',
    'THATAREA',
    'THISAREA',
    'TRANSFER',
    'CONTEXT',
    'CONTOUR',
    'DEFAULT',
    'DEFINED',
    'DEGREES',
    'DEPENDS',
    'DERIVED',
    'ENUMVAL',
    'EXTENDS',
    'GENERIC',
    'GRAPHIC',
    'IMPORTS',
    'OBJECTS',
    'ORDERED',
    'RADIANS',
    'TIDSIZE',
    'VERSION',
    'WITHOUT',
    'BASKET',
    'DOMAIN',
    'FORMAT',
    'HIDING',
    'LNBASE',
    'OBJECT',
    'OTHERS',
    'PARENT',
    'REFSYS',
    'UNIQUE',
    'VERTEX',
    'BASED',
    'BLANK',
    'CLASS',
    'EQUAL',
    'FINAL',
    'FIRST',
    'GRADS',
    'IDENT',
    'LOCAL',
    'MODEL',
    'TABLE',
    'TOPIC',
    'UNION',
    'WHERE',
    'XMLNS',
    'BASE',
    'CODE',
    'DIM1',
    'DIM2',
    'FONT',
    'FORM',
    'FREE',
    'FROM',
    'JOIN',
    'LAST',
    'LINE',
    'LIST',
    'NAME',
    'NULL',
    'SIGN',
    'THIS',
    'TYPE',
    'UNIT',
    'VIEW',
    'WHEN',
    'WITH',
    'ALL',
    'AND',
    'ANY',
    'BAG',
    'END',
    'FIX',
    'I16',
    'I32',
    'NOT',
    'OID',
    'SET',
    'TID',
    'URI',
    'AS',
    'AT',
    'BY',
    'IN',
    'NO',
    'OF',
    'ON',
    'OR',
    'PI',
    'TO',
  ]

  const TYPES = [
    'ARCS',
    'AREA',
    'BINARY',
    'BLACKBOX',
    'BOOLEAN',
    'COORD',
    'COORD2',
    'COORD3',
    'DATE',
    'DATETIME',
    'DIRECTED',
    'MULTIAREA',
    'MULTICOORD',
    'MULTIPOLYLINE',
    'MULTISURFACE',
    'NUMERIC',
    'POLYLINE',
    'STRAIGHTS',
    'SURFACE',
    'TEXT',
    'MTEXT',
    'TIMEOFDAY',
    'XML',
  ]

  const KEYWORD_RE = new RegExp('\\b(' + KEYWORDS.join('|') + ')\\b')
  const TYPE_RE = new RegExp('\\b(' + TYPES.join('|') + ')\\b')

  return {
    name: 'INTERLIS',
    contains: [
      // Line comments: !!
      {
        className: 'comment',
        begin: /!!/,
        end: /$/,
      },
      // Block comments: /* ... */
      hljs.C_BLOCK_COMMENT_MODE,
      // Strings: "..."
      {
        className: 'string',
        begin: /"(?:\\.|[^"\\])*"/,
      },
      // Keywords
      {
        className: 'keyword',
        begin: KEYWORD_RE,
      },
      // Types / builtins
      {
        className: 'type',
        begin: TYPE_RE,
      },
      // Zahlen
      {
        className: 'number',
        begin: /\b(\+|-)?([1-9]\d*\.?|0\.)\d*([Ee][+-]?[1-9]\d*)?\b/,
      },
      // Operatoren
      {
        className: 'operator',
        begin: /--<#>/,
      },
      {
        className: 'operator',
        begin: /--<>/,
      },
      {
        className: 'operator',
        begin: /--/,
      },
      {
        className: 'operator',
        begin: /[;=:]/,
      },
    ],
  }
}
